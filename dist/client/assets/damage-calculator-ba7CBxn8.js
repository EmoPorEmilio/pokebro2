import{g as C,t as I,h as D,i as f,c as i,a as M,j as N,S,u as ce,b as d,e as de,f as ue,r as fe,k as ge}from"./main-CTqC90n7.js";import{T as Y,G as s,H as be,b as me,Y as Ee,a as pe,C as _e,c as u,D as x}from"./YouLose-D20lCai3.js";import{t as E,E as ve,a as xe,d as Ae,p as he}from"./utils-DnYjgxtT.js";var Ce=I("<div><div>"),j=I("<div>"),Se=I('<div class="flex h-2/5 items-center justify-center"><!$><!/><span class="text-accent text-lg mx-2">VS</span><div><!$><!/><!$><!/>');function Te(g){const p=()=>E[g.typesCombinations[0]],r=()=>E[g.typesCombinations[1]],_=()=>g.typesCombinations[2]!==null?E[g.typesCombinations[2]]:null;return(()=>{var b=C(Se),A=b.firstChild,[T,P]=D(A.nextSibling),O=T.nextSibling,$=O.nextSibling,w=$.firstChild,[c,m]=D(w.nextSibling),h=c.nextSibling,[U,G]=D(h.nextSibling);return f(b,i(S,{get when(){return p()},get children(){var l=C(Ce),o=l.firstChild;return f(o,()=>{var v;return(v=p())==null?void 0:v.printName}),M(()=>{var v;return N(o,`flex flex-1 p-2 m-1 flex-col content-center justify-center ${(v=p())==null?void 0:v.color} border-accent text-bg-400 border-2 rounded-[50px] border-solid items-center font-bold`)}),l}}),T,P),f($,i(S,{get when(){return r()},get children(){var l=C(j);return f(l,()=>{var o;return(o=r())==null?void 0:o.printName}),M(()=>{var o;return N(l,`flex flex-1 p-2 m-1 flex-col content-center justify-center ${(o=r())==null?void 0:o.color} border-accent text-bg-400 border-2 rounded-[50px] border-solid items-center font-bold`)}),l}}),c,m),f($,i(S,{get when(){return _()},get children(){var l=C(j);return f(l,()=>{var o;return(o=_())==null?void 0:o.printName}),M(()=>{var o;return N(l,`flex flex-1 p-2 m-1 flex-col content-center justify-center ${(o=_())==null?void 0:o.color} border-accent text-bg-400 border-2 rounded-[50px] border-solid items-center font-bold`)}),l}}),U,G),b})()}var $e=I('<div class="flex flex-col h-[100dvh] w-[100dvw] bg-bg-400 antialiased"><!$><!/><!$><!/>'),Le=I('<div class="flex flex-col w-[80vw] max-w-[350px] justify-center items-center gap-4"><button class="flex justify-center items-center rounded-lg min-h-[60px] w-full bg-cards-bg border-accent-200 border border-solid text-accent text-center font-bold text-xl hover:cursor-pointer hover:bg-accent hover:border-white hover:text-cards-bg transition-colors"><span></span></button><button class="flex justify-center items-center rounded-lg min-h-[60px] w-full bg-cards-bg border-accent-200 border border-solid text-accent text-center font-bold text-xl hover:cursor-pointer hover:bg-accent hover:border-white hover:text-cards-bg transition-colors"><span>');function we(){const g=ce(),r={HP:3,scorePoints:"000",level:0,difficulty:null,gameState:s.SELECT_DIFFICULTY,availableLevelCombinations:[],currentTypesCombination:[0,0,null],correctOption:null,timer:Y},[_,b]=d(r.HP),[A,T]=d(r.scorePoints),[P,O]=d(r.level),[$,w]=d(r.timer),[c,m]=d(r.gameState),[h,U]=d(r.difficulty),[G,l]=d(""),[o,v]=d(r.availableLevelCombinations),[B,k]=d(r.currentTypesCombination),[F,H]=d(r.correctOption);let L=null;const Q=()=>{g({to:"/"})},q=()=>{c()===s.VALIDATION&&(V(),m(s.LEVEL_SETUP))},z=e=>{O(t=>t+1),F()===e?J():K()},J=()=>{V(),T(e=>he(parseInt(e)+1)),m(s.LEVEL_SETUP)},R=()=>{L&&clearInterval(L),m(s.YOU_LOSE)},K=()=>{b(e=>{const t=e-1;return t===0?R():m(s.VALIDATION),t})},W=()=>{O(0),b(3),w(Y),T("000"),m(s.SELECT_DIFFICULTY)},V=()=>{k([0,0,null]),H(null)},X=async e=>{let t=e?ee():o();const{randomTypeCombination:n,randomTypeIndex:a}=xe(t);k(n),H(Ae(n)),m(s.LEVEL_INFO),Z(t,a)},Z=(e,t)=>{const n=[...e];return n.splice(t,1),v(n),n},ee=()=>{const e=[],t=h();if(t===x.HARD)for(let n=0;n<E.length;n++)for(let a=0;a<E.length;a++)for(let y=a+1;y<E.length;y++)e.push([n,a,y]);else if(t===x.EASY)for(let n=0;n<E.length;n++)for(let a=0;a<E.length;a++)e.push([n,a,null]);return e},te=()=>[u.NO_DAMAGE,u.HALF_DAMAGE,u.REGULAR_DAMAGE,u.DOUBLE_DAMAGE],ne=()=>[u.NO_DAMAGE,u.QUARTER_DAMAGE,u.HALF_DAMAGE,u.REGULAR_DAMAGE,u.DOUBLE_DAMAGE,u.QUADRUPLE_DAMAGE],re=()=>h()===x.EASY?te():ne(),oe=e=>{U(e),m(s.LEVEL_SETUP),ie()},se=()=>{w(e=>{const t=e-1;return t<=0&&R(),t})},ie=()=>{L=setInterval(se,1e3)};return de(()=>{const e=h(),t=c();if(e)switch(t){case s.LEVEL_SETUP:const n=P()===0;X(n);break}}),ue(()=>{L&&clearInterval(L)}),(()=>{var e=C($e),t=e.firstChild,[n,a]=D(t.nextSibling),y=n.nextSibling,[ae,le]=D(y.nextSibling);return f(e,i(be,{handleHeaderBack:Q,inGame:!0,get HP(){return _()},get scorePoints(){return A()},get timer(){return $()}}),n,a),f(e,i(_e,{onClick:q,get children(){return i(S,{get when(){return c()!==s.YOU_LOSE},get fallback(){return i(Ee,{get scorePoints(){return A()},get difficulty(){return h()},get gameMode(){return pe.DAMAGE_CALCULATOR},restartGame:W})},get children(){return i(S,{get when(){return!G()},get fallback(){return i(ve,{get message(){return G()}})},get children(){return i(S,{get when(){return c()!==s.SELECT_DIFFICULTY},get fallback(){return i(ye,{goToGame:oe})},get children(){return[i(Te,{get typesCombinations(){return B()},get loading(){return c()===s.LEVEL_SETUP}}),i(me,{get correctOption(){return F()},get validation(){return c()===s.VALIDATION},get loading(){return c()===s.LEVEL_SETUP},handleClickOption:z,get options(){return re()}})]}})}})}})}}),ae,le),e})()}function ye(g){return(()=>{var p=C(Le),r=p.firstChild,_=r.firstChild,b=r.nextSibling,A=b.firstChild;return r.$$click=()=>g.goToGame(x.EASY),f(_,()=>x.EASY),b.$$click=()=>g.goToGame(x.HARD),f(A,()=>x.HARD),fe(),p})()}ge(["click"]);export{we as component};
